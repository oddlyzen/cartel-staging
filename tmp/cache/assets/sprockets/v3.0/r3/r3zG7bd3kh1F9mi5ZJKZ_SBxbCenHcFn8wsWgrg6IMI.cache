I"›(function() {
  Controllers['portfolio/artworks'] = function() {
    var PortfolioArtworks;
    return PortfolioArtworks = (function() {
      function PortfolioArtworks() {}

      PortfolioArtworks.prototype.index = function(action) {
        $('select[data-selectize-tag=true]').selectize({
          plugins: ['remove_button'],
          delimiter: ',',
          render: {
            option_create: function(data, escape) {
              return '<div class="create">This is a new tag. Pending approval from admin. Click to add <strong>' + escape(data.input) + '</strong>&hellip;</div>';
            }
          },
          create: function(input, callback) {
            var klass, url;
            klass = this.$input.data('klass');
            url = this.$input.data('url');
            $.ajax({
              url: url,
              type: 'POST',
              data: {
                name: input,
                klass: klass
              },
              success: function(tag) {
                return callback({
                  value: tag.id,
                  text: tag.name
                });
              }
            });
          }
        });
        prepare_country_city_selection('select[data-selectize-country]');
        return $('select[data-selectize-collaborator=true').selectize();
      };

      PortfolioArtworks.prototype.upload = function(action) {
        var changeGroupButtonStatus;
        changeGroupButtonStatus = function() {
          if ($('.cards.all-series .card input:checked').length <= 0 || $('.cards.cards--artworks .card input:checked').length <= 0) {
            $('.new_bulk_group_form input.group-submit').prop('disabled', 'disabled');
          } else {
            $('.new_bulk_group_form input.group-submit').removeProp('disabled');
          }
        };
        $('.cards.all-series .card input[type="checkbox"]').on('change', function() {
          var cards, cbox;
          cbox = $(this);
          cards = cbox.parents('.cards');
          cards.find('input[type=checkbox]').prop('checked', false);
          if (cbox.is(':checked')) {
            cbox.prop('checked', false);
          } else {
            cbox.prop('checked', true);
          }
          changeGroupButtonStatus();
        });
        $('#js-select-series-all').click(function() {
          return $('.cards--artworks .card input[type="checkbox"]').each(function() {
            this.checked = true;
            changeGroupButtonStatus();
          });
        });
        $('#js-select-series-none').click(function() {
          return $('.cards--artworks .card input[type="checkbox"]').each(function() {
            this.checked = false;
            changeGroupButtonStatus();
          });
        });
        return $('.cards.cards--artworks .card input[type="checkbox"]').on('change', function() {
          return changeGroupButtonStatus();
        });
      };

      return PortfolioArtworks;

    })();
  };

}).call(this);
:ET